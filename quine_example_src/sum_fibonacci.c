char data[] = {
118,111,105,100, 32,112,114,105,110,116, 95,115,114, 99, 40,118,111,105,100, 41,
 59, 10, 10, 47, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42,
 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42,
 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42,
 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 10,
 32, 42, 32,109, 97,105,110, 32, 99,111,100,101, 32, 45, 45, 32, 99,111,110,116,
101,110,116, 32, 99, 97,110, 32, 98,101, 32, 40, 97,108,109,111,115,116, 41, 32,
 97,114, 98,105,116,114, 97,114,121, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 42, 10, 32, 42, 42,
 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42,
 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42,
 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42,
 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 47, 10, 10, 35,105,110, 99,108,
117,100,101, 32, 60,115,116,114,105,110,103, 46,104, 62, 10, 35,105,110, 99,108,
117,100,101, 32, 60,115,116,100,105,111, 46,104, 62, 10, 10, 47, 42, 42, 10, 32,
 42, 32, 99,111,109,112,117,116,101,115, 32,116,104,101, 32,115,117,109, 32,111,
102, 32, 97,108,108, 32,101,118,101,110, 32,102,105, 98,111,110, 97, 99, 99,105,
 32,110,117,109, 98,101,114,115, 32,119,105,116,104, 32, 97, 32,118, 97,108,117,
101, 32,115,109, 97,108,108,101,114, 32,116,104, 97,110, 32,110, 10, 32, 42, 32,
117,115,101,115, 32,116,104,101, 32,114,101, 99,117,114,115,105,111,110, 58, 32,
 69, 40,110, 41, 32, 61, 32,110, 45,116,104, 32,101,118,101,110, 32,102,105, 98,
111,110, 97, 99, 99,105, 32,110,117,109, 98,101,114, 10, 32, 42, 32, 32, 32, 32,
 32, 32, 69, 40,110, 41, 32, 61, 32, 52, 32, 42, 32, 69, 40,110, 45, 49, 41, 32,
 43, 32, 69, 40,110, 45, 50, 41, 10, 32, 42, 47, 10,117,110,115,105,103,110,101,
100, 32,108,111,110,103, 32,108,111,110,103, 32,105,110,116, 32,115,117,109, 95,
101,118,101,110, 95,102,105, 98, 40,117,110,115,105,103,110,101,100, 32,108,111,
110,103, 32,108,111,110,103, 32,105,110,116, 32,110, 41, 32,123, 10, 32, 32,117,
110,115,105,103,110,101,100, 32,108,111,110,103, 32,108,111,110,103, 32,105,110,
116, 32,101,118,101,110, 95, 49, 32, 61, 32, 50, 59, 10, 32, 32,117,110,115,105,
103,110,101,100, 32,108,111,110,103, 32,108,111,110,103, 32,105,110,116, 32,101,
118,101,110, 95, 50, 32, 61, 32, 56, 59, 10, 10, 32, 32,117,110,115,105,103,110,
101,100, 32,108,111,110,103, 32,108,111,110,103, 32,105,110,116, 32,115,117,109,
 32, 61, 32, 48, 44, 32,116,101,109,112, 59, 10, 32, 32,119,104,105,108,101, 32,
 40,101,118,101,110, 95, 49, 32, 60, 32,110, 41, 32,123, 10, 32, 32, 32, 32,115,
117,109, 32, 43, 61, 32,101,118,101,110, 95, 49, 59, 10, 10, 32, 32, 32, 32,116,
101,109,112, 32, 61, 32,101,118,101,110, 95, 49, 59, 10, 32, 32, 32, 32,101,118,
101,110, 95, 49, 32, 61, 32,101,118,101,110, 95, 50, 59, 10, 32, 32, 32, 32,101,
118,101,110, 95, 50, 32, 61, 32, 52, 42,101,118,101,110, 95, 49, 32, 43, 32,116,
101,109,112, 59, 10, 32, 32,125, 10, 10, 32, 32,114,101,116,117,114,110, 32,115,
117,109, 59, 10,125, 10, 10,118,111,105,100, 32,112,114,111,106,101, 99,116, 95,
101,117,108,101,114, 95,110,114, 95, 50, 40,118,111,105,100, 41, 32,123, 10, 32,
 32,117,110,115,105,103,110,101,100, 32,108,111,110,103, 32,108,111,110,103, 32,
105,110,116, 32,110, 32, 61, 32, 52, 48, 48, 48, 48, 48, 48, 59, 10, 32, 32,112,
114,105,110,116,102, 40, 34, 84,104,101, 32,115,117,109, 32,111,102, 32, 97,108,
108, 32,101,118,101,110, 32,102,105, 98,111,110, 97, 99, 99,105, 32,110,117,109,
 98,101,114,115, 32,119,105,116,104, 32, 97, 32,118, 97,108,117,101, 32,115,109,
 97,108,108,101,114, 32,116,104, 97,110, 32, 37,108,108,117, 32,105,115, 58, 92,
110, 34, 10, 32, 32, 32, 32, 32, 32, 34, 32, 32, 32, 32, 37,108,108,117, 92,110,
 34, 44, 32,110, 44, 32,115,117,109, 95,101,118,101,110, 95,102,105, 98, 40,110,
 41, 41, 59, 10,125, 10, 10, 10,105,110,116, 32,109, 97,105,110, 40,105,110,116,
 32, 97,114,103, 99, 44, 32, 99,104, 97,114, 32, 42, 97,114,103,118, 91, 93, 41,
 32,123, 10, 32, 32,105,102, 32, 40, 32, 97,114,103, 99, 32, 61, 61, 32, 50, 32,
 38, 38, 32,115,116,114, 99,109,112, 40, 97,114,103,118, 91, 49, 93, 44, 32, 34,
 45, 45,115,117,109, 45,102,105, 98,111,110, 97, 99, 99,105, 34, 41, 32, 61, 61,
 32, 48, 32, 41, 10, 32, 32, 32, 32,112,114,111,106,101, 99,116, 95,101,117,108,
101,114, 95,110,114, 95, 50, 40, 41, 59, 10, 32, 32,101,108,115,101, 10, 32, 32,
 32, 32,112,114,105,110,116, 95,115,114, 99, 40, 41, 59, 10,125, 10, 10, 10, 47,
 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42,
 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42,
 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42,
 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 10, 32, 42, 32,114,
111,117,116,105,110,101, 32,102,111,114, 32,112,114,105,110,116,105,110,103, 32,
116,104,101, 32,100, 97,116, 97, 32, 97,115, 32, 98,111,116,104, 32, 99,111,100,
101, 32, 97,110,100, 32,100, 97,116, 97, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 42, 10, 32, 42, 42, 42, 42, 42, 42,
 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42,
 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42,
 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42,
 42, 42, 42, 42, 42, 42, 42, 42, 47, 10,118,111,105,100, 32,112,114,105,110,116,
 95,115,114, 99, 40,118,111,105,100, 41, 32,123, 10, 10, 32, 32, 47, 47, 32,112,
114,105,110,116, 32,116,104,101, 32,100, 97,116, 97, 32, 97,115, 32,100, 97,116,
 97, 10, 32, 32,112,114,105,110,116,102, 40, 32, 34, 99,104, 97,114, 32,100, 97,
116, 97, 91, 93, 32, 61, 32,123, 92,110, 34, 32, 41, 59, 10, 32, 32,102,111,114,
 32, 40, 32,115,105,122,101, 95,116, 32,105, 32, 61, 32, 48, 59, 32,105, 32, 60,
 32,115,105,122,101,111,102, 40,100, 97,116, 97, 41, 59, 32,105, 43, 43, 32, 41,
 32,123, 10, 32, 32, 32, 32,112,114,105,110,116,102, 40, 32, 34, 37, 51,100, 44,
 34, 44, 32,100, 97,116, 97, 91,105, 93, 32, 41, 59, 10, 32, 32, 32, 32,105,102,
 32, 40, 32, 40,105, 43, 49, 41, 37, 50, 48, 32, 61, 61, 32, 48, 32, 41, 32,123,
 10, 32, 32, 32, 32, 32, 32,112,114,105,110,116,102, 40, 32, 34, 92,110, 34, 32,
 41, 59, 10, 32, 32, 32, 32,125, 10, 32, 32,125, 10, 32, 32,112,114,105,110,116,
102, 40, 32, 34, 92,110,125, 59, 92,110, 34, 32, 41, 59, 10, 10, 32, 32, 47, 47,
 32,112,114,105,110,116, 32,116,104,101, 32,100, 97,116, 97, 32, 97,115, 32, 99,
111,100,101, 10, 32, 32,102,119,114,105,116,101, 40, 32,100, 97,116, 97, 44, 32,
115,105,122,101,111,102, 40,100, 97,116, 97, 41, 44, 32, 49, 44, 32,115,116,100,
111,117,116, 32, 41, 59, 10, 32, 32, 47, 42, 32,101,113,117,105,118, 97,108,101,
110,116, 32,105,115, 32,116,104,101, 32,102,111,108,108,111,119,105,110,103, 32,
 99,111,100,101, 58, 10, 32, 32, 32, 42, 32,102,111,114, 32, 40, 32,115,105,122,
101, 95,116, 32,105, 32, 61, 32, 48, 59, 32,105, 32, 60, 32,115,105,122,101,111,
102, 40,100, 97,116, 97, 41, 59, 32,105, 43, 43, 32, 41, 10, 32, 32, 32, 42, 32,
 32, 32,112,114,105,110,116,102, 40, 32, 34, 37, 99, 34, 44, 32,100, 97,116, 97,
 91,105, 93, 32, 41, 59, 32, 42, 47, 10, 10,125, 10,
};
void print_src(void);

/***************************************************************************
 * main code -- content can be (almost) arbitrary                          *
 **************************************************************************/

#include <string.h>
#include <stdio.h>

/**
 * computes the sum of all even fibonacci numbers with a value smaller than n
 * uses the recursion: E(n) = n-th even fibonacci number
 *      E(n) = 4 * E(n-1) + E(n-2)
 */
unsigned long long int sum_even_fib(unsigned long long int n) {
  unsigned long long int even_1 = 2;
  unsigned long long int even_2 = 8;

  unsigned long long int sum = 0, temp;
  while (even_1 < n) {
    sum += even_1;

    temp = even_1;
    even_1 = even_2;
    even_2 = 4*even_1 + temp;
  }

  return sum;
}

void project_euler_nr_2(void) {
  unsigned long long int n = 4000000;
  printf("The sum of all even fibonacci numbers with a value smaller than %llu is:\n"
      "    %llu\n", n, sum_even_fib(n));
}


int main(int argc, char *argv[]) {
  if ( argc == 2 && strcmp(argv[1], "--sum-fibonacci") == 0 )
    project_euler_nr_2();
  else
    print_src();
}


/***************************************************************************
 * routine for printing the data as both code and data                     *
 **************************************************************************/
void print_src(void) {

  // print the data as data
  printf( "char data[] = {\n" );
  for ( size_t i = 0; i < sizeof(data); i++ ) {
    printf( "%3d,", data[i] );
    if ( (i+1)%20 == 0 ) {
      printf( "\n" );
    }
  }
  printf( "\n};\n" );

  // print the data as code
  fwrite( data, sizeof(data), 1, stdout );
  /* equivalent is the following code:
   * for ( size_t i = 0; i < sizeof(data); i++ )
   *   printf( "%c", data[i] ); */

}
